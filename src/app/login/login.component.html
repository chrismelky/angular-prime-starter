<div
  fxLayout="row"
  fxLayoutGap="10px"
  fxLayoutAlign="center center"
  style="height: 100%; width: 100%; background-color: #f8f9fa"
>
  <p-card fxFlex="70%" fxFlex.lt-md="90%" fxFlex.md="40%" style="">
    <div fxLayout="row" fxLayoutGap="0px">
      <div
        fxLayout="column"
        fxLayoutGap="10px"
        fxFlex="60%"
        fxHide.lt-md="true"
        fxHide.md="true"
      >
        <img src="../../../assets/images/advart.jpeg" height="420px" />
      </div>
      <p-divider
        fxHide.lt-md="true"
        fxHide.md="true"
        layout="vertical"
      ></p-divider>
      <div
        fxLayout="column"
        fxLayoutGap="10px"
        fxLayoutAlign="center"
        fxFlex
        fxFlex.lt-md="100%"
        fxFlex.md="100%"
      >
        <form
          name="loginForm"
          role="form"
          novalidate
          autofocus
          (ngSubmit)="login()"
          [formGroup]="loginForm"
          autocomplete="off"
        >
          <div
            fxLayout="column"
            fxLayoutGap="10px"
            fxLayoutAlign="center"
            fxFlex
          >
            <div
              fxLayout="column"
              fxLayoutGap="8px"
              fxLayoutAlign="start center"
            >
              <img src="../../../assets/images/coat.png" style="width: 80px" />
              <h3>Login To Planrep</h3>
              <div fxFlex fxLayout="row" fxLayoutAlign="center">
                <p-message
                  *ngIf="authenticationError"
                  severity="error"
                  text="Invalid Username or password"
                ></p-message>
              </div>
            </div>
            <div fxLayout="column" fxLayoutGap="20px">
              <div class="p-field" fxFlex>
                <span class="p-float-label">
                  <input
                    id="username"
                    type="text"
                    pInputText
                    autofocus
                    formControlName="username"
                    autocomplete="off"
                  />
                  <label for="username">Username or Email or Cheque Number </label>
                </span>
                <span
                  *ngIf="
                    loginForm.get('username')!.invalid &&
                    (loginForm.get('username')!.dirty ||
                      loginForm.get('username')!.touched ||
                      formError)
                  "
                >
                  <small
                    class="p-error"
                    *ngIf="loginForm.get('username')?.errors?.required"
                    >Username or Email or Cheque Number is required.</small
                  >
                </span>
              </div>
              <div fxLayout="column" fxLayoutGap="4px">
                <div class="p-field" fxFlex>
                  <span class="p-float-label">
                    <p-password
                      id="password"
                      formControlName="password"
                      appendTo="body"
                      [toggleMask]="true"
                      inputId="password"
                      autofocus
                      [feedback]="false"
                    ></p-password>
                    <label for="password">Password</label>
                  </span>
                  <span
                    *ngIf="
                      loginForm.get('password')!.invalid &&
                      (loginForm.get('password')!.dirty ||
                        loginForm.get('password')!.touched ||
                        formError)
                    "
                  >
                    <small
                      class="p-error"
                      *ngIf="loginForm.get('password')?.errors?.required"
                      >Password is required.</small
                    >
                  </span>
                </div>
                <div fxLayout="row" fxLayoutGap="10px">
                  <span fxFlex></span>
                  <a>Forgot your password?</a>
                </div>
              </div>
            </div>

            <!-- <p-captcha siteKey="'YOUR_SITE_KEY'"></p-captcha> -->

            <button
              pRipple
              #loginPanel
              (disabled)="(isLoading)"
              class="p-button p-button-raised"
              pButton
              pRipple
              [icon]="isLoading ? 'pi pi-spin pi-spinner' : 'pi pi-user'"
              type="submit"
              label="Sign In"
            ></button>
          </div>
        </form>
      </div>
    </div>
  </p-card>
</div>

<p-toast
  position="top-center"
  key="error"
  [preventDuplicates]="false"
></p-toast>
