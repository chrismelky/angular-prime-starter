<button
  type="text"
  pButton
  pRipple
  pTooltip="Category Option"
  tooltipPosition="bottom"
  iconPos="left"
  class="p-button-text p-button-plain p-button-primary"
  (click)="ft.toggle($event)"
>
  <i class="pi pi-table"></i>&nbsp; FacilityTypes
</button>
<p-overlayPanel
  #ft
  [dismissable]="false"
  [showCloseIcon]="true"
  appendTo="body"
  [focusOnShow]="false"
  (onShow)="loadFacilityTypes()"
>
  <ng-template pTemplate>
    <div fxLayout="column" fxLayoutGap="10px" style="min-width: 200px">
      <p-table [value]="defaultFacilityTypes!" responsiveLayout="scroll" [paginator]="false" [rows]="10" [responsive]="true">
        <ng-template pTemplate="caption">
          <form
            name="bankAccountForm"
            role="form"
            novalidate
            (ngSubmit)="saveFacilityTypes()"
            [formGroup]="facilityTypeForm"
            style="min-width:500px !important;"
          >
            <div fxLayout="row" fxLayoutAlign="start start" fxLayoutGap="4px">
              <div class="p-field" fxFlex>
                <p-multiSelect [options]="facilityTypes!"
                               [(ngModel)]="selectedFacilityTypes"
                               defaultLabel="Select Facility Types"
                               optionLabel="name"
                               selectedItemsLabel="{0} Facility Types selected"
                               formControlName="facilityTypes"
                ></p-multiSelect>
              </div>
              <button
                type="submit"
                pButton
                pRipple
                icon="pi pi-plus"
                class="p-button-raised p-icon-button"
                [disabled]="selectedFacilityTypes.length<=0"
              ></button>
            </div>
          </form>
        </ng-template>
        <ng-template pTemplate="header">
          <tr>
            <th>SN</th>
            <th>Name</th>
            <th></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-i="rowIndex" let-columns>
          <tr>
            <td>{{i+ 1}}</td>
            <td>{{rowData?.name}}</td>
            <td style="text-align: end !important;"> <button
              pButton
              pTooltip="Delete"
              tooltipPosition="bottom"
              class="
                    p-button-text p-button-plain p-button-rounded p-button-icon
                  "
              icon="pi pi-trash
              "
              (click)="delete(rowData)"
            ></button></td>
          </tr>
        </ng-template>
        <ng-template [ngIf]="defaultFacilityTypes?.length===0" pTemplate="emptymessage"> No Facility Type found </ng-template>
      </p-table>
    </div>
  </ng-template>
</p-overlayPanel>

