<button
  type="text"
  pButton
  pRipple
  pTooltip="Category Option"
  tooltipPosition="bottom"
  iconPos="left"
  class="p-button-text p-button-plain p-button-primary"
  (click)="op.toggle($event)"
>
  <i class="pi pi-table"></i>&nbsp; Sectors
</button>
<p-overlayPanel
  #op
  [dismissable]="false"
  [showCloseIcon]="true"
  appendTo="body"
  [focusOnShow]="false"
  (onShow)="loadsectors()"
>
  <ng-template pTemplate>
    <div fxLayout="column" fxLayoutGap="10px" style="min-width: 40em">
      <p-table [value]="ceilingSectorStatus!" responsiveLayout="scroll" [paginator]="false" [rows]="10" [responsive]="true">
        <ng-template pTemplate="header">
          <tr>
            <th *ngFor="let col of sectors">{{col.name}}</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-columns>
          <tr>
            <td *ngFor="let sector of rowData.sector">
              <p-inputSwitch
                [(ngModel)]="sector.is_active"
                (onChange)="toggleActivation(sector.sector_id,sector.is_active)"
              ></p-inputSwitch>
            </td>
          </tr>
        </ng-template>
        <ng-template [ngIf]="sectors?.length===0" pTemplate="emptymessage"> No data found </ng-template>
      </p-table>
    </div>
  </ng-template>
</p-overlayPanel>

