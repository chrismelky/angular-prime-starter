<button
  type="text"
  pButton
  pRipple
  pTooltip="Sectors"
  tooltipPosition="bottom"
  iconPos="left"
  class="p-button-text p-button-plain p-button-primary"
  (click)="op.toggle($event)"
>
  <i class="pi pi-table"></i>&nbsp; Sectors
</button>
<p-overlayPanel
  #op
  [dismissable]="false"
  [showCloseIcon]="true"
  appendTo="body"
  [focusOnShow]="false"
  (onShow)="loadsectors()"
>
  <ng-template pTemplate>
    <div fxLayout="column" fxLayoutGap="10px" style="min-width: 40em">
      <p-table [value]="ceilingSectorStatus!" responsiveLayout="scroll" [paginator]="false" [rows]="10" [responsive]="true">
        <ng-template pTemplate="header">
          <tr>
            <th>Sector</th>
            <th>Mapped</th>
          </tr>
        </ng-template>
        <pre>{{ceilingSectorStatus | json}}</pre>
        <ng-template pTemplate="body" let-rowData let-columns>
          <tr>
            <td>
              {{rowData.sector_name}}
            </td>
            <td style="text-align: end">
              <p-inputSwitch
                [(ngModel)]="rowData.is_active"
                (onChange)="toggleActivation(rowData.sector_id,rowData.is_active)"
              ></p-inputSwitch>
            </td>
          </tr>
        </ng-template>
        <ng-template  pTemplate="emptymessage"> No data found </ng-template>
      </p-table>
    </div>
  </ng-template>
</p-overlayPanel>

